{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "title": {
    "text": "Australian Renewable Energy Installations Over 10 Mega Watts (2024)",
    "fontSize": 20,
    "anchor": "middle",
    "font": "Helvetica Neue, Arial",
    "color": "#00382f" 
  },
  "width": 1000,
  "height": 800,
  "background": "#FFFDF7",
  "config": {
    "text": {
      "color": "#00382f"
    },
    "legend": {
      "titleColor": "#00382f",
      "labelColor": "#00382f"
    },
    "axis": {
      "labelColor": "#00382f",
      "titleColor": "#00382f"
    }
  },
  "projection": {
    "type": "mercator",
    "center": [133, -28],
    "scale": 1000
  },
  "layer": [
    {
      "data": {
        "url": "https://angus135.github.io/data_viz2_FIT3179/data/STE_2021_AUST_GDA2020.json",
        "format": {
          "type": "topojson",
          "feature": "STE_2021_AUST_GDA2020"
        }
      },
      "mark": {
        "type": "geoshape",
        "fill": "#f0e6d6",
        "stroke": "black",
        "strokeWidth": 0.5
      }
    },
    {
      "data": {
        "url": "https://angus135.github.io/data_viz2_FIT3179/data/ne_110m_graticules_5.json",
        "format": {
          "type": "topojson",
          "feature": "ne_110m_graticules_5"
        }
      },
      "mark": {
        "type": "geoshape",
        "stroke": "darkgray",
        "strokeWidth": 0.2
      }
    },
    {
      "data": {
        "url": "https://angus135.github.io/data_viz2_FIT3179/data/ne_10m_rivers_australia.json",
        "format": {
          "type": "topojson",
          "feature": "ne_10m_rivers_australia"
        }
      },
      "mark": {
        "type": "geoshape",
        "stroke": "#004991",
        "strokeWidth": 0.25,
        "fill": "f0e6d6"
      }
    },
    {
      "data": {
        "url": "https://angus135.github.io/data_viz2_FIT3179/data/historical-accredited-power-stations-and-projects-0.csv"
      },
      "transform": [
        {
          "lookup": "Postcode",
          "from": {
            "data": {
              "url": "https://angus135.github.io/data_viz2_FIT3179/data/au_postcodes.csv"
            },
            "key": "postcode",
            "fields": ["latitude", "longitude"]
          }
        },
        {
          "filter": "datum['Installed capacity'] >= 10"
        },
        {
          "calculate": "datum.State == 'VIC' ? 'Victoria' : datum.State == 'NSW' ? 'New South Wales' : datum.State == 'QLD' ? 'Queensland' : datum.State == 'SA' ? 'South Australia' : datum.State == 'NT' ? 'Northern Territory' : datum.State == 'WA' ? 'Western Australia' : datum.State == 'ACT' ? 'Australian Capital Territory' : datum.State == 'TAS' ? 'Tasmania' : datum.State",
          "as": "State Full Name"
        }
      ],
      "mark": {
        "type": "circle",
        "tooltip": true,
        "opacity": 0.75
      },
      "encoding": {
        "longitude": {"field": "longitude", "type": "quantitative"},
        "latitude": {"field": "latitude", "type": "quantitative"},
        "color": {
          "field": "Fuel source(s)",
          "type": "nominal",
          "scale": {
            "domain": ["Biomass", "Hydro", "Wind", "Solar"],
            "range": ["#8B4513", "#08306b", "#78909C", "#FFA726"]
          },
          "legend": {
            "title": "Primary Fuel Source",
            "titleFontSize": 13,
            "titleFont": "Helvetica Neue, Arial",
            "labelFontSize": 11,
            "labelFont": "Lato, sans-serif",
            "orient": "none",
            "legendX": 835,
            "legendY": 20,
            "fillColor": "#FFFDF7",
            "strokeColor": "gray",
            "padding": 10,
            "cornerRadius": 3
          }
        },
        "size": {
          "field": "Installed capacity",
          "type": "quantitative",
          "scale": {
            "type": "linear",
            "domain": [10, 2000],
            "range": [10, 500]
          },
          "legend": {
            "title": "Capacity (MW)",
            "titleFontSize": 13,
            "titleFont": "Helvetica Neue, Arial",
            "labelFontSize": 11,
            "labelFont": "Lato, sans-serif",
            "values": [10, 100, 500, 1000, 2000],
            "orient": "none",
            "legendX": 20,
            "legendY": 20,
            "fillColor": "#FFFDF7",
            "strokeColor": "gray",
            "padding": 10,
            "cornerRadius": 3
          }
        },
        "tooltip": [
          {"field": "Power station name", "type": "nominal"},
          {"field": "Fuel source(s)", "type": "nominal"},
          {
            "field": "Installed capacity",
            "type": "quantitative",
            "format": ".1f",
            "title": "Installed capacity (MW)"
          },
          {"field": "State Full Name", "type": "nominal", "title": "State"},
          {"field": "Postcode", "type": "ordinal"}
        ]
      }
    },
    {
      "data": {
        "values": [
          {
            "name": "Snow Hydro",
            "lon": 147.7449,
            "lat": -35.7628,
            "line_end_lon": 148.7449,
            "line_end_lat": -36.7628,
            "label_lon": 150.0,
            "label_lat": -40.0
          }
        ]
      },
      "layer": [
        {
          "mark": {
            "type": "rule",
            "strokeDash": [4, 2],
            "strokeWidth": 1.5,
            "color": "#333",
            "opacity": 0.5
          },
          "encoding": {
            "longitude": {"field": "line_end_lon", "type": "quantitative"},
            "latitude": {"field": "line_end_lat", "type": "quantitative"},
            "longitude2": {"field": "label_lon"},
            "latitude2": {"field": "label_lat"}
          }
        },
        {
          "mark": {
            "type": "text",
            "align": "center",
            "baseline": "top",
            "dx": 88,
            "dy": 10,
            "fontSize": 11,
            "fontWeight": "bold",
            "font": "Lato, sans-serif",
            "color": "#00382f",
            "lineHeight": 16
          },
          "encoding": {
            "longitude": {"field": "label_lon", "type": "quantitative"},
            "latitude": {"field": "label_lat", "type": "quantitative"},
            "text": {"value": ["The Snowy Mountains Hydro-electric", "Scheme, consists of 10 hydro plants in this area.", "It was one of the most complex engineering", "projects undertaken in Australian history,", "built between 1949 and 1974."]}
          }
        },
        {
          "mark": {
            "type": "point",
            "shape": "circle",
            "size": 3000,
            "filled": false,
            "stroke": "#333",
            "strokeWidth": 2,
            "strokeDash": [4, 2],
            "opacity": 0.6
          },
          "encoding": {
            "longitude": {"field": "lon", "type": "quantitative"},
            "latitude": {"field": "lat", "type": "quantitative"}
          }
        }
      ]
    },
    {
      "data": {
        "values": [
          {
            "name": "Victorian Wind Farms",
            "lon": 142.9833,
            "lat": -37.85,
            "line_end_lon": 141.5233,
            "line_end_lat": -37.55,
            "label_lon": 135.0,
            "label_lat": -36.0
          }
        ]
      },
      "layer": [
        {
          "mark": {
            "type": "rule",
            "strokeDash": [4, 2],
            "strokeWidth": 1.5,
            "color": "#333",
            "opacity": 0.5
          },
          "encoding": {
            "longitude": {"field": "line_end_lon", "type": "quantitative"},
            "latitude": {"field": "line_end_lat", "type": "quantitative"},
            "longitude2": {"field": "label_lon"},
            "latitude2": {"field": "label_lat"}
          }
        },
        {
          "mark": {
            "type": "text",
            "align": "center",
            "baseline": "top",
            "dx": -220,
            "dy": -15,
            "fontSize": 11,
            "fontWeight": "bold",
            "font": "Lato, sans-serif",
            "color": "#00382f", 
            "lineHeight": 16
          },
          "encoding": {
            "longitude": {"field": "label_lon", "type": "quantitative"},
            "latitude": {"field": "label_lat", "type": "quantitative"},
            "text": {"value": ["Victoria has significant wind energy infrastructure with multiple wind farms across the state", "In 2023, wind farms generated around 21% of Victoria's electricity."]}
          }
        },
        {
          "mark": {
            "type": "point",
            "shape": "circle",
            "size": 3000,
            "filled": false,
            "stroke": "#333",
            "strokeWidth": 2,
            "strokeDash": [4, 2],
            "opacity": 0.6
          },
          "encoding": {
            "longitude": {"field": "lon", "type": "quantitative"},
            "latitude": {"field": "lat", "type": "quantitative"}
          }
        }
      ]
    },
    {
      "data": {
        "values": [
          {
            "name": "Tasmanian Hydro",
            "lon": 146.4,
            "lat": -42.3,
            "line_end_lon": 144.8,
            "line_end_lat": -42.3,
            "label_lon": 133.0,
            "label_lat": -42.0
          }
        ]
      },
      "layer": [
        {
          "mark": {
            "type": "rule",
            "strokeDash": [4, 2],
            "strokeWidth": 1.5,
            "color": "#333",
            "opacity": 0.5
          },
          "encoding": {
            "longitude": {"field": "line_end_lon", "type": "quantitative"},
            "latitude": {"field": "line_end_lat", "type": "quantitative"},
            "longitude2": {"field": "label_lon"},
            "latitude2": {"field": "label_lat"}
          }
        },
        {
          "mark": {
            "type": "text",
            "align": "center",
            "baseline": "top",
            "dx": -180,
            "dy": -20,
            "fontSize": 11,
            "fontWeight": "bold",
            "font": "Lato, sans-serif",
            "color": "#00382f", 
            "lineHeight": 16
          },
          "encoding": {
            "longitude": {"field": "label_lon", "type": "quantitative"},
            "latitude": {"field": "label_lat", "type": "quantitative"},
            "text": {"value": ["Tasmania generates the majority of its electricity from hydropower,", "making it one of the most renewable-powered grids in the world.", "Giving it over a third of Australia's hydro-electric capacity."]}
          }
        },
        {
          "mark": {
            "type": "point",
            "shape": "circle",
            "size": 3000,
            "filled": false,
            "stroke": "#333",
            "strokeWidth": 2,
            "strokeDash": [4, 2],
            "opacity": 0.6
          },
          "encoding": {
            "longitude": {"field": "lon", "type": "quantitative"},
            "latitude": {"field": "lat", "type": "quantitative"}
          }
        }
      ]
    },
    {
      "data": {
        "values": [
          {
            "name": "Queensland Solar",
            "lon": 149,
            "lat": -21.8,
            "label_lon": 152.0,
            "label_lat": -18.5
          }
        ]
      },
      "layer": [
        {
          "mark": {
            "type": "rule",
            "strokeDash": [4, 2],
            "strokeWidth": 1.5,
            "color": "#333",
            "opacity": 0.5
          },
          "encoding": {
            "longitude": {"field": "lon", "type": "quantitative"},
            "latitude": {"field": "lat", "type": "quantitative"},
            "longitude2": {"field": "label_lon"},
            "latitude2": {"field": "label_lat"}
          }
        },
        {
          "mark": {
            "type": "text",
            "align": "center",
            "baseline": "top",
            "dx": 20,
            "dy": -50,
            "fontSize": 11,
            "fontWeight": "bold",
            "font": "Lato, sans-serif",
            "color": "#00382f", 
            "lineHeight": 16
          },
          "encoding": {
            "longitude": {"field": "label_lon", "type": "quantitative"},
            "latitude": {"field": "label_lat", "type": "quantitative"},
            "text": {"value": ["Queensland has some of the best solar radiation", "levels in Australia with high average sunshine", "year-round, solar is highly productive."]}
          }
        },
        {
          "mark": {
            "type": "point",
            "shape": "triangle-up",
            "size": 50,
            "filled": true,
            "color": "#333",
            "angle": 220
          },
          "encoding": {
            "longitude": {"field": "lon", "type": "quantitative"},
            "latitude": {"field": "lat", "type": "quantitative"}
          }
        }
      ]
    },
    {
      "data": {
        "values": [
          {
            "name": "Remote WA",
            "lon": 120.7355,
            "lat": -23.3564,
            "label_lon": 121.0,
            "label_lat": -13
          }
        ]
      },
      "layer": [
        {
          "mark": {
            "type": "rule",
            "strokeDash": [4, 2],
            "strokeWidth": 1.5,
            "color": "#333",
            "opacity": 0.5
          },
          "encoding": {
            "longitude": {"field": "lon", "type": "quantitative"},
            "latitude": {"field": "lat", "type": "quantitative"},
            "longitude2": {"field": "label_lon"},
            "latitude2": {"field": "label_lat"}
          }
        },
        {
          "mark": {
            "type": "text",
            "align": "center",
            "baseline": "top",
            "dx": 0,
            "dy": -65,
            "fontSize": 11,
            "fontWeight": "bold",
            "font": "Lato, sans-serif",
            "color": "#00382f", 
            "lineHeight": 16
          },
          "encoding": {
            "longitude": {"field": "label_lon", "type": "quantitative"},
            "latitude": {"field": "label_lat", "type": "quantitative"},
            "text": {"value": ["Many WA mines operate in remote locations far from", "the main electricity grid. Remote mines are increasingly", "adopting hybrid systems combining solar, wind, battery storage,", "and diesel backup"]}
          }
        },
        {
          "mark": {
            "type": "point",
            "shape": "triangle-up",
            "size": 50,
            "filled": true,
            "color": "#333",
            "angle": 183
          },
          "encoding": {
            "longitude": {"field": "lon", "type": "quantitative"},
            "latitude": {"field": "lat", "type": "quantitative"}
          }
        }
      ]
    }
  ]
}